{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\n\nexport const createGalleryCard = (imgInfo) => {\n    return `\n    <li class=\"gallery-card\">\n        <a\n          class=\"gallery-link\"\n          href=\"${imgInfo.largeImageURL}\"\n        >\n          <img\n            class=\"gallery-img\"\n            src=\"${imgInfo.webformatURL}\"\n            alt=\"${imgInfo.tags}\"\n            width=360\n  //        onclick=\"return false\"\n            data-source=\"${imgInfo.largeImageURL}\"\n          />\n          <ul class=\"description\">\n            <li>\n              <p>Likes</p>\n              <p class=\"description-value\">${imgInfo.likes}</p>\n            </li>\n            <li>\n              <p>Views</p>\n              <p class=\"description-value\">${imgInfo.views}</p>\n            </li>\n            <li>\n              <p>Comments</p>\n              <p class=\"description-value\">${imgInfo.comments}</p>\n            </li>\n            <li>\n              <p>Downloads</p>\n              <p class=\"description-value\">${imgInfo.downloads}</p>\n            </li>\n          </ul>\n        </a>\n      </li>\n    `;\n};\n\nexport function showMessage(message) {\n    iziToast.show({\n      message: message,\n    });\n  }\n  \n  export function showLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.classList.remove('is-hidden');\n  }\n  \n  export function hideLoader() {\n    const loader = document.querySelector('.js-loader');\n    loader.classList.add('is-hidden');\n  }\n\n","const base_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = searchedQuery => {\n    const urlParams = new URLSearchParams({\n        key: '46295007-756af9891ee3ef29b100a63be',\n        q: searchedQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n   return fetch(`${base_URL}?${urlParams}`).then(response => {\n   \n        if (!response.ok) {\n            // const rejectedPromise = new Promise ((resolve, reject) => {\n            //     reject(response.status);\n            // });\n            // return rejectedPromise;\n    \n            //Замість вищезазначеного коду використовуємо оператор throw (генерування помилки)\n            throw new Error(response.status);\n        }\n        return response.json();\n    });\n};","//Описаний у документації\nimport iziToast from \"izitoast\";\n\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nimport { createGalleryCard,\n        showMessage,\n        showLoader,\n        hideLoader,\n } from \"./js/render-functions\";\n\nimport { fetchPhotos } from \"./js/pixabay-api\";\n\n\nconst searchForm = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst queryInput = document.querySelector('.js-search-input');\n\nlet lightbox;\n\niziToast.settings({\n        messageColor: 'white',\n        position: \"bottomRight\",\n        backgroundColor: '#ef4040',\n      });\n\nconst onSearchFormSubmit = event => {\n    event.preventDefault();\n\n    const searchedValue = searchForm.elements.user_search.value.trim();// from attribute 'name' in input read the value of user\n   \n    if (searchedValue === '') {\n        showMessage('Please enter a search query.');\n        return;\n      }\n\n    showLoader();\n    \n    fetchPhotos(searchedValue).then(data => {// тут відбувається обробка даних\n        \n\n        const galleryCards = data.hits.map(imgDetails => createGalleryCard(imgDetails)).join('');\n        galleryEl.innerHTML = galleryCards;\n\n        if (data.hits.length === 0) {\n                showMessage ('Sorry, there are no images matching your search query. Please try again!',\n                );\n                \n                galleryEl.innerHTML = ''; //clear galllery if query is incorrect\n                searchForm.reset(); // clear input\n                return;\n        }\n        if (!lightbox) {\n                lightbox = new SimpleLightbox('.js-gallery a', {\n                  captionsData: 'alt',\n                  captionPosition: 'bottom',\n                  captionDelay: 250,\n                });\n              } else {\n                lightbox.refresh();\n              }\n        }).catch(err => {if (err.message === '404') {\n                showMessage('Your request was not found');\n        }\n        }).finally(() => {\n                hideLoader();\n                searchForm.reset();\n              });\n};\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCard","imgInfo","showMessage","message","iziToast","showLoader","hideLoader","base_URL","fetchPhotos","searchedQuery","urlParams","response","searchForm","galleryEl","lightbox","onSearchFormSubmit","event","searchedValue","data","galleryCards","imgDetails","SimpleLightbox","err"],"mappings":"6vBAEO,MAAMA,EAAqBC,GACvB;AAAA;AAAA;AAAA;AAAA,kBAIOA,EAAQ,aAAa;AAAA;AAAA;AAAA;AAAA,mBAIpBA,EAAQ,YAAY;AAAA,mBACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA,2BAGJA,EAAQ,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKHA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,6CAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,6CAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAQvD,SAASC,EAAYC,EAAS,CACjCC,EAAS,KAAK,CACZ,QAASD,CACf,CAAK,CACF,CAEM,SAASE,GAAa,CACZ,SAAS,cAAc,YAAY,EAC3C,UAAU,OAAO,WAAW,CACpC,CAEM,SAASC,GAAa,CACZ,SAAS,cAAc,YAAY,EAC3C,UAAU,IAAI,WAAW,CACpC,CCtDA,MAAMC,EAAW,2BAEJC,EAAcC,GAAiB,CACxC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEF,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EAAE,KAAKC,GAAY,CAErD,GAAI,CAACA,EAAS,GAOV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACxB,CAAK,CACL,ECLMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,aAAa,EACnC,SAAS,cAAc,kBAAkB,EAE5D,IAAIC,EAEJV,EAAS,SAAS,CACV,aAAc,QACd,SAAU,cACV,gBAAiB,SACzB,CAAO,EAEP,MAAMW,EAAqBC,GAAS,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBL,EAAW,SAAS,YAAY,MAAM,OAE5D,GAAIK,IAAkB,GAAI,CACtBf,EAAY,8BAA8B,EAC1C,MACD,CAEHG,IAEAG,EAAYS,CAAa,EAAE,KAAKC,GAAQ,CAGpC,MAAMC,EAAeD,EAAK,KAAK,IAAIE,GAAcpB,EAAkBoB,CAAU,CAAC,EAAE,KAAK,EAAE,EAGvF,GAFAP,EAAU,UAAYM,EAElBD,EAAK,KAAK,SAAW,EAAG,CACpBhB,EAAa,0EAC7B,EAEgBW,EAAU,UAAY,GACtBD,EAAW,MAAK,EAChB,MACP,CACIE,EAOGA,EAAS,QAAO,EANhBA,EAAW,IAAIO,EAAe,gBAAiB,CAC7C,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChC,CAAiB,CAIjB,CAAS,EAAE,MAAMC,GAAO,CAAKA,EAAI,UAAY,OAC7BpB,EAAY,4BAA4B,CAExD,CAAS,EAAE,QAAQ,IAAM,CACTI,IACAM,EAAW,MAAK,CAChC,CAAe,CACf,EAEAA,EAAW,iBAAiB,SAAUG,CAAkB"}